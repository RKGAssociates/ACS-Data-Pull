table = "B01003",
year = 2018,
survey = "acs1"
)
df <- get_acs(geography="block group",
state="MA",
table = "B01003",
year = 2018,
survey = "acs1"
)
View(load_variables(2018,"acs5",cache=TRUE))
df <- get_acs(geography="block group",
state="MA",
table = "B01001",
year = 2018,
survey = "acs1"
)
df <- get_acs(geography="metropolitan statistical area/micropolitan statistical area",
state="MA",
table = "B01001",
year = 2018,
survey = "acs1"
)
df <- get_acs(geography="metropolitan statistical area/micropolitan statistical area",
state="MA",
table = "B01001",
year = 2018,
survey = "acs5"
)
df <- get_acs(geography="metropolitan statistical area/micropolitan statistical area",
state="MA",
# table = "B01001",
year = 2018,
survey = "acs5"
)
df <- get_acs(geography="metropolitan statistical area/micropolitan statistical area",
state="MA",
table = "B01001",
year = 2018,
survey = "acs5"
)
df <- get_acs(geography="metropolitan statistical area/micropolitan statistical area",
# state="MA",
table = "B01001",
year = 2018,
survey = "acs5"
)
View(df)
df <- get_acs(geography="new england city and town area",
# state="MA",
table = "B01001",
year = 2018,
survey = "acs5"
)
View(df)
df <- get_acs(geography="county",
state="MA",
table = "B01001",
year = 2018,
survey = "acs5"
)
library(tidyverse)
library(tidycensus)
census_api_key("2f7688b42a2c229e0662079bf0f4f5400cbb7551") # YOU NEED YOUR OWN
View(load_variables(2018,"acs5",cache=TRUE))
df_mass <- get_acs(geography="tract",
state="MA",
table = "B01001",
year = 2018,
survey = "acs5"
)
df_mass <- get_acs(geography="tract",
state="MA",
table = "B01001",
year = 2018,
survey = "acs5",
cache_table = TRUE
)
df_nh <- get_acs(geography="tract",
state="NH",
table = "B01001",
year = 2018,
survey = "acs5",
cache_table = TRUE
)
View(df_mass)
View(df_nh)
source('~/Documents/career/RKG/code/ACS-Data-Pull/main.r', echo=TRUE)
get_data()
source('~/Documents/career/RKG/code/ACS-Data-Pull/main.r', echo=TRUE)
data_collect()
source('~/Documents/career/RKG/code/ACS-Data-Pull/main.r', echo=TRUE)
data_collect()
setwd(getSrcDirectory()[1])
install.packages("utils")
install.packages("utils")
install.packages("utils")
utils
setwd(getSrcDirectory()[1])
source('~/Documents/career/RKG/code/ACS-Data-Pull/main.r', echo=TRUE)
data_collect()
source('~/Documents/career/RKG/code/ACS-Data-Pull/main.r', echo=TRUE)
data_collect()
source('~/Documents/career/RKG/code/ACS-Data-Pull/main.r', echo=TRUE)
data_collect()
library(tidyverse)
library(tidycensus)
?get_acs
library(tidyverse)
library(tidycensus)
unem <- get_acs(geo_level = "county",
state = "GA",
county = "Fulton County",
table = "S2301",
year = 2018,
survey = "acs5"
)
library(tidyverse)
library(tidycensus)
census_api_key("2f7688b42a2c229e0662079bf0f4f5400cbb7551") # YOU NEED YOUR OWN
unem <- get_acs(geo_level = "county",
state = "GA",
county = "Fulton County",
table = "S2301",
year = 2018,
survey = "acs5",
cache_table = TRUE
)
unem <- get_acs(geography = "county",
state = "GA",
county = "Fulton County",
table = "S2301",
year = 2018,
survey = "acs5",
cache_table = TRUE
)
?get_acs
unem <- get_acs(geography = "block group",
state = "GA",
county = "Fulton County",
table = "S2301",
year = 2018,
survey = "acs5",
cache_table = TRUE
)
unem <- get_acs(geography = "block group",
state = "GA",
county = "Fulton County",
table = "S2301",
year = 2018,
survey = "acs5",
cache_table = TRUE
)
unem <- get_acs(geography = "block group",
state = "GA",
# county = "Fulton County",
table = "S2301",
year = 2018,
survey = "acs5",
cache_table = TRUE
)
unem <- get_acs(geography = "block group",
state = "GA",
table = "S2301",
year = 2018,
survey = "acs5",
cache_table = TRUE
)
unem <- get_acs(geography = "county",
state = "GA",
table = "S2301",
year = 2018,
survey = "acs5",
cache_table = TRUE
)
unem <- get_acs(geography = "county",
state = "GA",
county = "Fulton County"
table = "S2301",
year = 2018,
survey = "acs5",
cache_table = TRUE
)
unem <- get_acs(geography = "county",
state = "GA",
county = "Fulton County",
table = "S2301",
year = 2018,
survey = "acs5",
cache_table = TRUE
)
View(unem)
source('~/Downloads/ryan.R', echo=TRUE)
pov <- get_acs(geography = "block group",
state = "GA",
county = "Fulton County",
table = "S1701",
year = 2013,
survey = "acs5",
cache_table = TRUE
)
View(vac)
View(vac)
install.packages(c("tidycensus", "tidyverse"))
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
View(df)
# inputs ----
acs_years <-c(2013,2018)
geo_level <- "county"
st <- "NH"
cnty <- "Hillsborough County"
survey_type <- "acs5"
cnty_name <- str_replace(cnty," ","_")
name <- cnty_name ## CHOOSE st, cnty_name, or insert a custom name
# labels ----
labels <- read_excel(paste(data_path,read_file,sep=""),sheet=var_sheet)
labels <- filter(labels, Source=="ACS Data")
tables <- labels[1]
# wb setup ----
wb <- loadWorkbook(paste(data_path,read_file,sep=""))
cnty_require <- c("county","county subdivision","tract","block group")
if(geo_level %in% cnty_require){cnty_val <- cnty} else {cnty_val <- NULL}
yr <- acs_years[1]
df <- get_acs(geography = geo_level,
table = "B25126",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
rm(list=ls())
df <- get_acs(geography = geo_level,
table = "B01001",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
df <- get_acs(geography = geo_level,
table = "B01001",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
# inputs ----
acs_years <-c(2013,2018)
geo_level <- "county"
st <- "NH"
cnty <- "Hillsborough County"
survey_type <- "acs5"
cnty_name <- str_replace(cnty," ","_")
name <- cnty_name ## CHOOSE st, cnty_name, or insert a custom name
# labels ----
labels <- read_excel(paste(data_path,read_file,sep=""),sheet=var_sheet)
labels <- filter(labels, Source=="ACS Data")
tables <- labels[1]
# wb setup ----
wb <- loadWorkbook(paste(data_path,read_file,sep=""))
rm(list=ls())
setwd("~/Documents/career/RKG/code/ACS-Data-Pull")
library(tidyverse)
library(tidycensus)
library(readxl)
library(openxlsx)
source("funcs.r")
source("call.r")
census_api_key("2f7688b42a2c229e0662079bf0f4f5400cbb7551") # YOU NEED YOUR OWN
# Parameters ----
data_path <- "~/Documents/career/RKG/data/"     # This is the path where "read_file" lives
read_file <- "Data Pull_NashuaNH.xlsx"     # This is the file that contains codes for all tables you want to pull
var_sheet <- "Data Pull"     # This specifies the sheet in "read_file" that contains the information mentioned above
# inputs ----
acs_years <-c(2013,2018)   # Please pick 2 separate years
st <- "NH"     # state
geo_level <- "county"  # geographic level. search "tidycensus" online to see different options
cnty <- "Hillsborough County"   # County
survey_type <- "acs5"   # 5-year ACS, 1-year ACS, etc...
cnty_name <- str_replace(cnty," ","_") # Please do not touch this.
name <- cnty_name
# labels ----
labels <- read_excel(paste(data_path,read_file,sep=""),sheet=var_sheet)
labels <- filter(labels, Source=="ACS Data")
tables <- labels[2]
# wb setup ----
wb <- loadWorkbook(paste(data_path,read_file,sep=""))
# loop ----
cnty_require <- c("county","county subdivision","tract","block group")
if(geo_level %in% cnty_require){cnty_val <- cnty} else {cnty_val <- NULL}
cnty_require <- c("county","county subdivision","tract","block group")
if(geo_level %in% cnty_require){cnty_val <- cnty} else {cnty_val <- NULL}
yr <- acs_years[1]
df <- get_acs(geography = geo_level,
table = "B01001",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
df <- get_acs(geography = geo_level,
table = "B01001",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
# save ----
write_file <- paste(name,st,"Data.xlsx",sep="_")
write_file <- paste(data_path,write_file,sep="")
saveWorkbook(wb,write_file,overwrite = T)
print(write_file)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
df <- get_acs(geography = geo_level,
table = "B01001",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
df <- get_acs(geography = geo_level,
table = "B01001",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
# inputs ----
acs_years <-c(2013,2018)
geo_level <- "state"
st <- "NH"
cnty <- "Hillsborough County"
survey_type <- "acs5"
cnty_name <- str_replace(cnty," ","_")
name <- cnty_name ## CHOOSE st, cnty_name, or insert a custom name
# labels ----
labels <- read_excel(paste(data_path,read_file,sep=""),sheet=var_sheet)
labels <- filter(labels, Source=="ACS Data")
tables <- labels[1]
# wb setup ----
wb <- loadWorkbook(paste(data_path,read_file,sep=""))
cnty_require <- c("county","county subdivision","tract","block group")
if(geo_level %in% cnty_require){cnty_val <- cnty} else {cnty_val <- NULL}
yr <- acs_years[1]
df <- get_acs(geography = geo_level,
table = "B01001",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
get_acs(geography = geo_level,
table = "B01001",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
get_acs(geography = geo_level,
table = "B01001",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
remove.packages("tidycensus")
install.packages("tidycensus")
install.packages("tidycensus")
get_acs(geography = geo_level,
table = "B01001",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
library(tidyverse)
library(tidycensus)
library(readxl)
library(openxlsx)
get_acs(geography = geo_level,
table = "B01001",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
sessionInfo()
packageVersion("tidycensus")
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
install.packages("devtools")
remove.packages("tidycensus")
require(devtools)
install_version("tidycensus", version = "0.9.9", repos = "http://cran.us.r-project.org")
install_version("tidycensus", version = "0.9.6", repos = "http://cran.us.r-project.org")
install_version("tidycensus", version = "0.9.6", repos = "http://cran.us.r-project.org")
install_version("tidycensus", version = "0.9.6", repos = "http://cran.us.r-project.org")
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
remove.packages("tidycensus")
install_version("tidycensus", version = "0.9.5", repos = "http://cran.us.r-project.org")
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
remove.packages("tidycensus")
install_version("tidycensus", version = "0.9.5", repos = "http://cran.us.r-project.org")
remove.packages("tidycensus")
update.packages("sf")
packageVersion("sf")
install.packages("sf")
install.packages("sf")
packageVersion("sf")
install.packages("tigris")
remove.packages("tidycensus")
install.packages("xml2")
install.packages("units")
install.packages("Rcpp")
install.packages("Rcpp")
install.packages("Rcpp")
install.packages("Rcpp")
install.packages"lifecycle"
install.packages("lifecycle")
install.packages("yctrs")
install.packages("classlnt")
install.packages("vctrs")
install.packages("classInt")
install.packages("tibble")
install.packages("tidyverse")
packageVersion("tibble")
install.packages("tidycensus")
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
get_acs(geography = geo_level,
table = "B01001",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
install_version("tidycensus", version = "0.9.6", repos = "http://cran.us.r-project.org")
install_version("tidycensus", version = "0.9.6", repos = "http://cran.us.r-project.org")
install_version("tidycensus", version = "0.9.6", repos = "http://cran.us.r-project.org")
install_version("tidycensus", version = "0.9.6", repos = "http://cran.us.r-project.org")
library(devtools)
install_version("tidycensus", version = "0.9.6", repos = "http://cran.us.r-project.org")
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
df <- get_acs(geography = geo_level,
table = "B03002",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
df <- get_acs(geography = geo_level,
table = "B03002",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
df <- get_acs(geography = geo_level,
table = "B03002",
state = st,
county = cnty_val,
cache_table = TRUE,
year = yr,
survey = survey_type)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/prototype.r', echo=TRUE)
source('~/Documents/career/RKG/code/ACS-Data-Pull/get_data.R', echo=TRUE)
remove.package("tidycensus")
remove.package("tidycensus")
remove.package("tidycensus")
remove.package("tidycensus")
remove.packages("tidycensus")
remove.packages("tidycensus")
remove.packages("tidycensus")
remove.packages("tidycensus")
install.packages("tidycensus")
install.packages("tidycensus")
